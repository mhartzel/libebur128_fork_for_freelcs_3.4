diff -ur loudness-scanner/ebur128/CMakeLists.txt loudness-scanner-patched/ebur128/CMakeLists.txt
--- loudness-scanner/ebur128/CMakeLists.txt	2017-07-02 16:09:26.000000000 +0300
+++ loudness-scanner-patched/ebur128/CMakeLists.txt	2017-07-26 18:10:15.000000000 +0300
@@ -1,5 +1,5 @@
 cmake_minimum_required(VERSION 2.8.12 FATAL_ERROR)
-project(libebur128 C)
+project(libebur128-freelcs C)
 
 set(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake)
 set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR})
diff -ur loudness-scanner/ebur128/ebur128/CMakeLists.txt loudness-scanner-patched/ebur128/ebur128/CMakeLists.txt
--- loudness-scanner/ebur128/ebur128/CMakeLists.txt	2017-07-02 16:09:26.000000000 +0300
+++ loudness-scanner-patched/ebur128/ebur128/CMakeLists.txt	2017-07-27 11:52:12.000000000 +0300
@@ -28,7 +28,7 @@
 #### static
 if(BUILD_STATIC_LIBS)
   add_library(ebur128_static STATIC ebur128.c)
-  set_property(TARGET ebur128_static PROPERTY OUTPUT_NAME ebur128)
+  set_property(TARGET ebur128_static PROPERTY OUTPUT_NAME ebur128-freelcs)
 endif()
 
 if(WITH_STATIC_PIC)
@@ -42,20 +42,20 @@
   set(EBUR128_SHARED_SOURCE ${EBUR128_SHARED_SOURCE} ebur128.def)
 endif()
 
-add_library(ebur128 SHARED ${EBUR128_SHARED_SOURCE})
-set_target_properties(ebur128 PROPERTIES
+add_library(ebur128-freelcs SHARED ${EBUR128_SHARED_SOURCE})
+set_target_properties(ebur128-freelcs PROPERTIES
     SOVERSION ${EBUR128_VERSION_MAJOR}
     VERSION ${EBUR128_VERSION})
 
 if(UNIX)
-  target_link_libraries(ebur128 m)
+  target_link_libraries(ebur128-freelcs m)
 endif()
 
 set(EBUR128_INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR} CACHE INTERNAL "")
 
 install(FILES ebur128.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR})
 if(BUILD_STATIC_LIBS)
-  install(TARGETS ebur128 ebur128_static DESTINATION ${CMAKE_INSTALL_LIBDIR})
+  install(TARGETS ebur128-freelcs ebur128_static DESTINATION ${CMAKE_INSTALL_LIBDIR})
 else()
-  install(TARGETS ebur128 DESTINATION ${CMAKE_INSTALL_LIBDIR})
+  install(TARGETS ebur128-freelcs DESTINATION ${CMAKE_INSTALL_LIBDIR})
 endif()
diff -ur loudness-scanner/ebur128/test/CMakeLists.txt loudness-scanner-patched/ebur128/test/CMakeLists.txt
--- loudness-scanner/ebur128/test/CMakeLists.txt	2017-07-02 16:09:26.000000000 +0300
+++ loudness-scanner-patched/ebur128/test/CMakeLists.txt	2017-07-26 18:09:27.000000000 +0300
@@ -15,6 +15,6 @@
       COMPILE_FLAGS " ${SNDFILE_CFLAGS}")
   set_property(TARGET minimal-example APPEND_STRING PROPERTY
       COMPILE_FLAGS " ${SNDFILE_CFLAGS}")
-  target_link_libraries(r128-test-library ebur128 ${SNDFILE_LIBRARIES})
-  target_link_libraries(minimal-example ebur128 ${SNDFILE_LIBRARIES})
+  target_link_libraries(r128-test-library ebur128-freelcs ${SNDFILE_LIBRARIES})
+  target_link_libraries(minimal-example ebur128-freelcs ${SNDFILE_LIBRARIES})
 endif()
Binary files loudness-scanner/.git/index and loudness-scanner-patched/.git/index differ
Binary files loudness-scanner/.git/modules/ebur128/index and loudness-scanner-patched/.git/modules/ebur128/index differ
Binary files loudness-scanner/.git/modules/scanner/filetree/index and loudness-scanner-patched/.git/modules/scanner/filetree/index differ
diff -ur loudness-scanner/scanner/CMakeLists.txt loudness-scanner-patched/scanner/CMakeLists.txt
--- loudness-scanner/scanner/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/CMakeLists.txt	2017-07-28 18:00:51.603860639 +0300
@@ -41,23 +41,23 @@
 
 
   add_library(scanner-lib scanner-scan scanner-dump)
-  target_link_libraries(scanner-lib scanner-common ebur128)
+  target_link_libraries(scanner-lib scanner-common ebur128-freelcs)
 
-  add_executable(loudness scanner)
-  target_link_libraries(loudness
+  add_executable(loudness-freelcs  scanner)
+  target_link_libraries(loudness-freelcs 
         scanner-lib filetree input
         ${GLIB20_LIBRARIES} ${GTHREAD20_LIBRARIES})
 
 
 
   if(SNDFILE_FOUND AND NOT DISABLE_SNDFILE)
-    set_property(TARGET loudness APPEND PROPERTY
+    set_property(TARGET loudness-freelcs  APPEND PROPERTY
           COMPILE_DEFINITIONS "USE_SNDFILE")
   endif()
 
   if(TARGET scanner-tag)
-    target_link_libraries(loudness scanner-tag)
-    set_property(TARGET loudness APPEND PROPERTY
+    target_link_libraries(loudness-freelcs  scanner-tag)
+    set_property(TARGET loudness-freelcs  APPEND PROPERTY
           COMPILE_DEFINITIONS "USE_TAGLIB")
   endif()
 endif()
diff -ur loudness-scanner/scanner/inputaudio/ffmpeg/CMakeLists.txt loudness-scanner-patched/scanner/inputaudio/ffmpeg/CMakeLists.txt
--- loudness-scanner/scanner/inputaudio/ffmpeg/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/inputaudio/ffmpeg/CMakeLists.txt	2017-07-28 15:48:39.111219073 +0300
@@ -23,9 +23,9 @@
                    ${LIBAVUTIL_LIBRARY_DIRS}
                    ${GMODULE20_LIBRARY_DIRS})
 
-  add_library(input_ffmpeg MODULE input_ffmpeg.c ../input_helper.c)
+  add_library(input_ffmpeg-freelcs  MODULE input_ffmpeg.c ../input_helper.c)
 
-  target_link_libraries(input_ffmpeg
+  target_link_libraries(input_ffmpeg-freelcs 
                         ${LIBAVFORMAT_LIBRARIES}
                         ${LIBAVCODEC_LIBRARIES}
                         ${LIBAVUTIL_LIBRARIES}
@@ -39,12 +39,12 @@
 
   if(INPUT_FFMPEG_CFLAGS)
     to_space_list(INPUT_FFMPEG_CFLAGS)
-    set_target_properties(input_ffmpeg PROPERTIES
+    set_target_properties(input_ffmpeg-freelcs  PROPERTIES
             COMPILE_FLAGS ${INPUT_FFMPEG_CFLAGS})
   endif()
   if(INPUT_FFMPEG_LDFLAGS)
     to_space_list(INPUT_FFMPEG_LDFLAGS)
-    set_target_properties(input_ffmpeg PROPERTIES
+    set_target_properties(input_ffmpeg-freelcs  PROPERTIES
                LINK_FLAGS ${INPUT_FFMPEG_LDFLAGS})
   endif()
 endif()
diff -ur loudness-scanner/scanner/inputaudio/gstreamer/CMakeLists.txt loudness-scanner-patched/scanner/inputaudio/gstreamer/CMakeLists.txt
--- loudness-scanner/scanner/inputaudio/gstreamer/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/inputaudio/gstreamer/CMakeLists.txt	2017-07-28 15:50:37.055716912 +0300
@@ -17,7 +17,7 @@
    NOT DISABLE_GLIB20 AND NOT DISABLE_GSTREAMER)
   include_directories(${INPUT_INCLUDE_DIR} ${EBUR128_INCLUDE_DIR})
 
-  add_library(input_gstreamer MODULE input_gstreamer.c)
+  add_library(input_gstreamer-freelcs  MODULE input_gstreamer.c)
 
   list(APPEND INPUT_GSTREAMER_CFLAGS  ${GMODULE20_CFLAGS}  ${GSTREAMER_APP_CFLAGS}  ${GSTREAMER_AUDIO_CFLAGS})
   list(APPEND INPUT_GSTREAMER_LDFLAGS ${GMODULE20_LDFLAGS} ${GSTREAMER_APP_LDFLAGS} ${GSTREAMER_AUDIO_LDFLAGS})
@@ -25,7 +25,7 @@
   to_space_list(INPUT_GSTREAMER_CFLAGS)
   to_space_list(INPUT_GSTREAMER_LDFLAGS)
 
-  set_target_properties(input_gstreamer PROPERTIES
+  set_target_properties(input_gstreamer-freelcs  PROPERTIES
           COMPILE_FLAGS ${INPUT_GSTREAMER_CFLAGS})
-  target_link_libraries(input_gstreamer ${INPUT_GSTREAMER_LDFLAGS})
+  target_link_libraries(input_gstreamer-freelcs  ${INPUT_GSTREAMER_LDFLAGS})
 endif()
diff -ur loudness-scanner/scanner/inputaudio/input.c loudness-scanner-patched/scanner/inputaudio/input.c
--- loudness-scanner/scanner/inputaudio/input.c	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/inputaudio/input.c	2017-07-28 19:25:24.004478791 +0300
@@ -6,12 +6,12 @@
 #include <stdio.h>
 
 static const char* plugin_names[] = {
-  "input_sndfile",
-  "input_mpg123",
-  "input_musepack",
-  "input_ffmpeg",
+  "input_sndfile-freelcs",
+  "input_mpg123-freelcs",
+  "input_musepack-freelcs",
+  "input_ffmpeg-freelcs",
 #ifndef GSTREAMER_INPUT_STATIC
-  "input_gstreamer",
+  "input_gstreamer-freelcs",
 #endif
   NULL
 };
diff -ur loudness-scanner/scanner/inputaudio/mpcdec/CMakeLists.txt loudness-scanner-patched/scanner/inputaudio/mpcdec/CMakeLists.txt
--- loudness-scanner/scanner/inputaudio/mpcdec/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/inputaudio/mpcdec/CMakeLists.txt	2017-07-28 15:43:44.541834853 +0300
@@ -14,9 +14,9 @@
   include_directories(SYSTEM ${MPCDEC_INCLUDE_DIRS})
   include_directories(${INPUT_INCLUDE_DIR} ${EBUR128_INCLUDE_DIR})
 
-  add_library(input_musepack MODULE input_mpcdec.c)
+  add_library(input_musepack-freelcs  MODULE input_mpcdec.c)
 
-  target_link_libraries(input_musepack ${MPCDEC_LIBRARIES})
+  target_link_libraries(input_musepack-freelcs  ${MPCDEC_LIBRARIES})
 
   list(APPEND INPUT_MPCDEC_CFLAGS  ${GMODULE20_CFLAGS})
   list(APPEND INPUT_MPCDEC_LDFLAGS ${GMODULE20_LDFLAGS})
@@ -24,7 +24,7 @@
   to_space_list(INPUT_MPCDEC_CFLAGS)
   to_space_list(INPUT_MPCDEC_LDFLAGS)
 
-  set_target_properties(input_musepack PROPERTIES
+  set_target_properties(input_musepack-freelcs PROPERTIES
           COMPILE_FLAGS ${INPUT_MPCDEC_CFLAGS}
              LINK_FLAGS ${INPUT_MPCDEC_LDFLAGS})
 endif()
diff -ur loudness-scanner/scanner/inputaudio/mpg123/CMakeLists.txt loudness-scanner-patched/scanner/inputaudio/mpg123/CMakeLists.txt
--- loudness-scanner/scanner/inputaudio/mpg123/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/inputaudio/mpg123/CMakeLists.txt	2017-07-28 15:52:31.596193857 +0300
@@ -14,9 +14,9 @@
   include_directories(SYSTEM ${MPG123_INCLUDE_DIRS})
   include_directories(${INPUT_INCLUDE_DIR} ${EBUR128_INCLUDE_DIR})
 
-  add_library(input_mpg123 MODULE input_mpg123.c)
+  add_library(input_mpg123-freelcs  MODULE input_mpg123.c)
 
-  target_link_libraries(input_mpg123 ${MPG123_LIBRARIES})
+  target_link_libraries(input_mpg123-freelcs  ${MPG123_LIBRARIES})
 
   list(APPEND INPUT_MPG123_CFLAGS  ${GMODULE20_CFLAGS})
   list(APPEND INPUT_MPG123_LDFLAGS ${GMODULE20_LDFLAGS})
@@ -24,7 +24,7 @@
   to_space_list(INPUT_MPG123_CFLAGS)
   to_space_list(INPUT_MPG123_LDFLAGS)
 
-  set_target_properties(input_mpg123 PROPERTIES
+  set_target_properties(input_mpg123-freelcs  PROPERTIES
           COMPILE_FLAGS ${INPUT_MPG123_CFLAGS}
              LINK_FLAGS ${INPUT_MPG123_LDFLAGS})
 endif()
diff -ur loudness-scanner/scanner/inputaudio/sndfile/CMakeLists.txt loudness-scanner-patched/scanner/inputaudio/sndfile/CMakeLists.txt
--- loudness-scanner/scanner/inputaudio/sndfile/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/inputaudio/sndfile/CMakeLists.txt	2017-07-28 15:46:27.730643493 +0300
@@ -14,9 +14,9 @@
   include_directories(${GMODULE20_INCLUDE_DIRS})
   link_directories(${SNDFILE_LIBRARY_DIRS} ${GMODULE20_LIBRARY_DIRS})
 
-  add_library(input_sndfile MODULE input_sndfile.c ../input_helper.c)
+  add_library(input_sndfile-freelcs  MODULE input_sndfile.c ../input_helper.c)
 
-  target_link_libraries(input_sndfile
+  target_link_libraries(input_sndfile-freelcs 
                         ${SNDFILE_LIBRARIES} ${GMODULE20_LIBRARIES})
 
   list(APPEND INPUT_SNDFILE_CFLAGS  ${GMODULE20_CFLAGS_OTHER})
@@ -24,12 +24,12 @@
 
   if(INPUT_SNDFILES_CFLAGS)
     to_space_list(INPUT_SNDFILE_CFLAGS)
-    set_target_properties(input_sndfile PROPERTIES
+    set_target_properties(input_sndfile-freelcs  PROPERTIES
             COMPILE_FLAGS ${INPUT_SNDFILE_CFLAGS})
   endif()
   if(INPUT_SNDFILE_LDFLAGS)
     to_space_list(INPUT_SNDFILE_LDFLAGS)
-    set_target_properties(input_sndfile PROPERTIES
+    set_target_properties(input_sndfile-freelcs  PROPERTIES
                LINK_FLAGS ${INPUT_SNDFILE_LDFLAGS})
   endif()
 endif()
diff -ur loudness-scanner/scanner/scanner.c loudness-scanner-patched/scanner/scanner.c
--- loudness-scanner/scanner/scanner.c	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/scanner.c	2017-07-26 21:22:55.000000000 +0300
@@ -82,6 +82,9 @@
     printf("  -m, --momentary=INTERVAL   print momentary loudness every INTERVAL seconds\n");
     printf("  -s, --shortterm=INTERVAL   print shortterm loudness every INTERVAL seconds\n");
     printf("  -i, --integrated=INTERVAL  print integrated loudness every INTERVAL seconds\n");
+    printf("\n");
+    printf("  Patched to disable progress bar.\n");
+    printf("\n");
 }
 
 static gboolean recursive = FALSE;
diff -ur loudness-scanner/scanner/scanner-common/CMakeLists.txt loudness-scanner-patched/scanner/scanner-common/CMakeLists.txt
--- loudness-scanner/scanner/scanner-common/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/scanner-common/CMakeLists.txt	2017-07-26 18:06:58.000000000 +0300
@@ -2,7 +2,7 @@
 add_definitions(           ${GLIB20_CFLAGS_OTHER})
 
 add_library(scanner-common parse_args nproc scanner-common)
-target_link_libraries(scanner-common ebur128
+target_link_libraries(scanner-common ebur128-freelcs
                       ${GLIB20_LIBRARIES} ${GTHREAD20_LIBRARIES})
 
 if(SNDFILE_FOUND AND NOT DISABLE_SNDFILE)
diff -ur loudness-scanner/scanner/scanner-common/scanner-common.c loudness-scanner-patched/scanner/scanner-common/scanner-common.c
--- loudness-scanner/scanner/scanner-common/scanner-common.c	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/scanner/scanner-common/scanner-common.c	2017-07-26 19:54:50.000000000 +0300
@@ -336,18 +336,21 @@
 
     // Start the progress bar thread. It misuses progress_mutex and
     // progress_cond to signal when it is ready.
-    g_mutex_lock(progress_mutex);
-    progress_bar_thread = g_thread_create(print_progress_bar,
-                                          &started, TRUE, NULL);
-    while (!started)
-        g_cond_wait(progress_cond, progress_mutex);
-    g_mutex_unlock(progress_mutex);
+    //
+    // Note progress bar causes hangs sometimes and this is why progress bar is disabled when using libebur128 with FreeLCS
+    //
+    // g_mutex_lock(progress_mutex);
+    // progress_bar_thread = g_thread_create(print_progress_bar,
+    //                                       &started, TRUE, NULL);
+    // while (!started)
+    //     g_cond_wait(progress_cond, progress_mutex);
+    // g_mutex_unlock(progress_mutex);
 
     pool = g_thread_pool_new((GFunc) init_state_and_scan_work_item,
                              opts, nproc(), FALSE, NULL);
     g_slist_foreach(files, (GFunc) init_state_and_scan, pool);
     g_thread_pool_free(pool, FALSE, TRUE);
-    g_thread_join(progress_bar_thread);
+    // g_thread_join(progress_bar_thread);
 }
 
 void print_version() {
diff -ur loudness-scanner/test/CMakeLists.txt loudness-scanner-patched/test/CMakeLists.txt
--- loudness-scanner/test/CMakeLists.txt	2017-07-02 15:18:15.000000000 +0300
+++ loudness-scanner-patched/test/CMakeLists.txt	2017-07-26 18:08:33.000000000 +0300
@@ -1,6 +1,6 @@
 if(SNDFILE_FOUND)
   include_directories(SYSTEM ${SNDFILE_INCLUDE_DIRS})
   add_executable(r128-test-library tests.c)
-  target_link_libraries(r128-test-library ebur128 ${SNDFILE_LIBRARIES})
+  target_link_libraries(r128-test-library ebur128-freelcs ${SNDFILE_LIBRARIES})
   add_test(test1 ${EXECUTABLE_OUTPUT_PATH}/r128-test-library)
 endif()
